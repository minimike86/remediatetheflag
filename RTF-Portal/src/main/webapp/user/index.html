<!-- 
 *  
 * REMEDIATE THE FLAG
 * Copyright 2018 - Andrea Scaduto 
 * remediatetheflag@gmail.com
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * 
 -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Remediate The Flag">
<meta name="author" content="sk4ddy">
<title>Remediate the Flag - Home</title>
<link rel="icon" type="image/png" sizes="32x32"
	href="/assets/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96"
	href="/assets/img/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16"
	href="/assets/img/favicon-16x16.png">
<link href="/assets/css/lib.css" rel="stylesheet">
<link href="/assets/css/style.css" rel="stylesheet">
</head>
<body>
	<div ng-app="rtfNg">
		<div ng-controller="navigation">
			<div class="navbar navbar-default navbar-fixed-top" role="navigation">
				<div class="container">

					<div class="navbar-collapse collapse">
						<ul class="nav navbar-nav">
							<li class="pull-left"><a class="navbar-brand navbarI"
								href="index.html">RTF.</a></li>
							<li ng-class="{'active' : visibility.home }"><a
								class="navbarA" href="#home">HOME</a></li>
							<li ng-class="{'active' : visibility.assignedExercises }"><a
								class="navbarA" href="#exercises">TRAINING EXERCISES</a></li>
							<li ng-class="{'active' : visibility.challenges }"
								class="ng-cloak"><a class="navbarA" href="#challenges">CHALLENGES</a></li>
							<li ng-class="{'active' : visibility.runningExercises }"><a
								class="navbarA" href="#running">RUNNING EXERCISES</a></li>
							<li ng-class="{'active' : visibility.history }"><a
								class="navbarA" href="#history">COMPLETED EXERCISES</a></li>
							<li ng-class="{'active' : visibility.achievements }"><a
								class="navbarA" href="#achievements">ACHIEVEMENTS & STATS</a></li>
							<li ng-class="{'active' : visibility.leaderboard }"><a
								class="navbarA" href="#leaderboard">TEAM LEADERBOARD</a></li>
							<li class="pull-right"><a class="navbarI" href=""
								ng-click="logout()"><i class="fa fa-sign-out fa-lg"
									aria-hidden="true"></i></a></li>
							<li class="pull-right"
								ng-class="{'active' : visibility.settings }"><a
								class="navbarI" href="#settings"><i class="fa fa-cogs fa-lg"
									aria-hidden="true"></i></a></li>
							<li ng-show="userCredits!='-1'" class="pull-right"><a
								class="navbarI btn notificationcentre dropdown-toggle" href=""
								id="dropdownMenuLink2" data-toggle="dropdown"
								aria-haspopup="true" aria-expanded="false" href="" id="" href="">
									<notification-icon animation="grow" count="userCredits">
									<i class="fa fa-ticket fa-lg"></i></notification-icon>
							</a>
								<div
									class="notificationcentre notificationCentreDropdown dropdown-menu"
									aria-labelledby="dropdownMenuLink2">
									<a class="dropdown-item" href="">
										<div class="">
											<span class="notificationText">Each exercise you run
												costs one credit. You have {{userCredits}} credits left. </span>
										</div>
									</a>
								</div></li>


							<li class="pull-right"><a
								class="navbarI btn notificationcentre dropdown-toggle" href=""
								id="dropdownMenuLink" data-toggle="dropdown"
								aria-haspopup="true" aria-expanded="false" href=""><notification-icon
										animation="grow" count="notifications.length">
									<i class="fa fa-envelope-o fa-lg"></i></notification-icon></a>
								<div
									class="notificationcentre notificationCentreDropdown dropdown-menu"
									aria-labelledby="dropdownMenuLink">
									<a ng-show="notifications.length <= 0" class="dropdown-item"
										href="">
										<div class="">
											<span class="notificationText">No unread notifications</span>
										</div>
									</a> <a ng-repeat="n in notifications" class="dropdown-item"
										href="">
										<div ng-click="goTo(n.link)" class="notificationHoverable">
											<i ng-click="goTo(n.link)" class="fa fa-bell"
												aria-hidden="true"></i> <span class="notificationText">{{n.text}}</span>
										</div>

										<div ng-click="markNotificationRead(n.id)"
											class="dismissNotification ">
											<i class="fa fa-times dismissNotificationIcon"
												aria-hidden="true"><span
												ng-click="markNotificationRead(n.id)"
												class="dismissNotificationSpan">Dismiss</span></i>
										</div>
									</a>
								</div></li>

						</ul>
					</div>
				</div>
			</div>
			<!-- *****************************************************************************************************************
	 HEADERWRAP
	 ***************************************************************************************************************** -->
			<div id="headerwrap" ng-show="visibility.welcome"
				ng-controller="welcome">
				<div class="container">
					<div class="row">
						<div class="col-lg-8 col-lg-offset-2">
							<h3 class="ng-cloak">Hi {{user.firstName}}, welcome to</h3>
							<h1>Remediate the Flag</h1>
						</div>
					</div>
				</div>
			</div>
			<!-- *****************************************************************************************************************
	 USER MENU OPTIONS
	 ***************************************************************************************************************** -->
			<div id="service" ng-show="visibility.home" ng-controller="home">
				<div class="container serviceContainer">
					<div class="row centered serviceInnerContainer col-md-12">
						<div class="col-md-4">
							<a href="#exercises"><i class="fa fa-flask"></i></a>
							<h4>
								<a href="#exercises">Available Exercises</a>
							</h4>
							<p>Browse available exercises and start hacking.</p>
						</div>
						<div class="col-md-4">
							<a href="#achievements"><i class="fa fa-trophy"></i></a>
							<h4>
								<a href="#achievements">Achievements & Stats</a>
							</h4>
							<p>Look at achievements, stats and score.</p>
						</div>
						<div class="col-md-4">
							<a href="#history"><i class="fa fa-history"></i></a>
							<h4>
								<a href="#history">Completed Exercises</a>
							</h4>
							<p>Check results of completed exercises.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- *****************************************************************************************************************
	 AVAILABLE EXERCISES
	 ***************************************************************************************************************** -->
			<div id="assignedExercises" class="ng-cloak"
				ng-controller="exercises">
				<div id="exercisesPanel" ng-show="visibility.assignedExercises"
					class="container standalone">

					<div class="row centered">



						<div ng-show="!avExercisesTech">
							<h2 class="eblue">{{currentTechnology}} Training Exercises</h2>
							<form>
								<div class="col-md-3 searchExercise">
									<div class="input-group" id="adv-search">
										<input ng-change="showExercisesForTags(true)"
											ng-model="currentSearch" type="text" class="form-control"
											placeholder="Search {{currentTechnology}} exercises" />
										<div class="input-group-btn">
											<div class="btn-group" role="group">

												<button type="button" class="btn btn-primary">
													<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
												</button>
											</div>
										</div>
									</div>
								</div>
								<div class="col-md-3 col-md-offset-6 backToTechnologies">
									<button ng-click="backToTechnologies()"
										class="btn btn outline floatRight btn-info">Back To
										Categories</button>
								</div>

							</form>
							<div ng-repeat="e in exercises" class="card-deck-wrapper">
								<div class="card-deck">
									<div ng-repeat="ex in e | orderBy:'active':true" class="card"
										ng-class="getExerciseClass(ex.technology)">
										<div class="paddingTop5 paddingBottom5 card-header">{{ex.technology}}</div>
										<div class="card-block paddingTop5">
											<div ng-show="didTakeExercise(ex.id)" class="taken">Completed</div>
											<div ng-show="!didTakeExercise(ex.id)" class="notTaken">Not
												Completed</div>
											<h4 class="card-title">{{ex.title}}</h4>
											<h6 class="ellipsis card-subtitle text-muted">{{ex.subtitle}}</h6>
										</div>
										<div class="row">
											<div class="col-md-6">
												<h4 class="marginTop0">Score</h4>
												<svg width="120" height="120">
  <circle cx="60" cy="60" r="50" fill="{{getColorForScore(ex.score)}}" />
  <text x="50%" y="50%" text-anchor="middle" fill="white"
														font-family="monospace" font-size="55px" dy=".3em">{{ex.score}}</text>
</svg>
												<p class="card-text">
													<small class="text-muted">gain up to {{ex.score}}
														points</small>
												</p>
											</div>
											<div class="col-md-6">
												<h4 class="marginTop0">Trophy</h4>
												<img class="trophySVG" src="/assets/img/trophy.svg">
												<p class="card-text">
													<small class="text-muted">{{ex.trophy.name}}</small>
												</p>
											</div>
										</div>
										<div class="card-block paddingBottom10 paddingTop0">
											<p class="card-text marginTop5 marginBottom5">
												<small class="text-muted">Duration: {{ex.duration}}
													minutes</small><small class="text-muted"> | Difficulty:
													{{ex.difficulty}} </small>
											</p>
											<a ng-show="ex.status==0"
												ng-click="getExerciseDetails(ex.id)" href=""
												class="btn btn-primary">Get Started</a> <a
												ng-show="ex.status>0" href="" class="btn btn-info">{{getExerciseStatusString(ex.status)}}</a>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div ng-show="avExercisesTech" class="">
							<h2 class="eblue">Training Exercises</h2>

							<form>
								<div class="input-group" id="adv-search-wide">
									<input ng-change="showExercisesForTags(false)"
										ng-model="currentSearch" type="text" class="form-control"
										placeholder="Search all exercises" />
									<div class="input-group-btn">
										<div class="btn-group" role="group">

											<button type="button" class="btn btn-primary">
												<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
											</button>
										</div>
									</div>
								</div>
							</form>

							<div class="container marginTop20">
								<div class="row">
									<h4>Browse by technology:</h4>
								</div>
								<div class="row marginTop10">
									<div class="card-deck-wrapper">

										<div ng-repeat="row in exercisesTech" class="card-deck">
											<div class="card" ng-repeat="t in row"
												ng-class="getExerciseClass(t)">
												<div class="card-header"></div>
												<div class="card-block">
													<h4 class="card-title">{{t}}</h4>
													<img ng-src="{{getPictureForTechnology(t)}}"
														class="techPict">
												</div>
												<div class="card-block">
													<a ng-click="showExercisesForTechnology(t)"
														href="#exercises/{{t}}" class="btn btn-primary">Browse</a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="emptyExercises" ng-show="emptyExercises">
							<img class="emptyExercises" src="/assets/img/emptyExercises.png" />
							<p>There are no exercises available.</p>
						</div>
					</div>
				</div>




				<div id="currentExercisePanel" ng-show="visibility.exerciseDetails"
					class="container standalone">
					<h2 class="eblue">Exercise</h2>
					<div class="card paddingBottom10">
						<div class="card-header">{{exerciseDetails.technology}}</div>
						<div class="col-md-10">
							<h4 class="card-title">{{exerciseDetails.title}}</h4>
							<h6 class="card-subtitle text-muted">{{exerciseDetails.subtitle}}</h6>
							<div class="">
								<p class="card-text">{{exerciseDetails.description}}</p>
								<p class="card-text">
									<small class="text-muted">Duration:
										{{exerciseDetails.duration}} minutes</small><small class="text-muted">
										| Difficulty: {{exerciseDetails.difficulty}} </small><small
										class="text-muted"> | Author:
										{{exerciseDetails.author}} </small>
								</p>
								<hr class="marginTop10">
								<div ng-show="exerciseDetails.res.length>0">
									<h5>Suggested Readings:</h5>
									<p class="card-text">
										<small ng-repeat="r in exerciseDetails.res">
											{{r.name}} : <a target="_blank" href="{{r.url}}">Link</a><br />
										</small>
									</p>
								</div>
								<hr class="marginTop10">
								<div ng-show="!exerciseStarted">
									<button ng-click="startExerciseModal(exerciseDetails.id)"
										class="btn btn-success btn-lg btn-xl">Start Exercise</button>
								</div>
								<div ng-show="exerciseStarted">
									<div class="well centered">
										<div id="countdown" ng-show="!ready">
											<p class="lead">We're preparing your exercise, your RTF
												environment will be ready in:</p>
											<span class="badge" id="cdown">{{countdown}}</span>
											<p>Use this time to read the exercise's instructions.</p>
										</div>
										<div id="environmentReady" ng-show="ready">
											<p class="lead">Your RTF environment is ready!</p>
											<button id="launchEnvironment" ng-click="launchEnvironment()"
												class="btn btn-success btn-xl">Launch</button>
											<button ng-show="alreadyLaunched"
												ng-click="stopExercise(exInstanceId)"
												class="marginLeft50 btn btn-xl btn-primary">Stop</button>
										</div>
										<div id="preload"></div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-2 centered marginTop20">
							<h4 class="marginBottom0">Score</h4>
							<svg width="120" height="120">
							
  <circle cx="60" cy="60" r="50"
									fill="{{getColorForScore(exerciseDetails.score)}}" />
  <text x="50%" y="50%" text-anchor="middle" fill="white"
									font-family="monospace" font-size="55px" dy=".3em">{{exerciseDetails.score}}</text>
</svg>
							<p class="card-text marginTop0">
								<small class="text-muted">gain up to
									{{exerciseDetails.score}} points</small>
							</p>
						</div>
						<div class="col-md-2 centered marginTop20">
							<h4>Trophy</h4>
							<img class="trophySVG" src="/assets/img/trophy.svg">
							<p class="card-text">
								<small class="text-muted">{{exerciseDetails.trophy.name}}</small>
							</p>
						</div>
						<div class="row"></div>
					</div>
					<div id="exerciseInfo">
						<ul id="exerciseTabs" class="nav nav-tabs" role="tablist">
							<li role="presentation" class="active"><a
								data-target="#exercise-info"
								href="#exercises/details/{{exerciseDetails.id}}/info"
								aria-controls="exercises/details/{{exerciseDetails.id}}/info"
								role="tab" data-toggle="tab">General Information</a></li>
							<li role="presentation"><a data-target="#exercise-flags"
								href="#exercises/details/{{exerciseDetails.id}}/flags"
								aria-controls="exercises/details/{{exerciseDetails.id}}/flags"
								role="tab" data-toggle="tab">Exercise Flags</a></li>
						</ul>
						<div class="tab-content">
							<div role="tabpanel" class="tab-pane active" id="exercise-info">
								<div ng-repeat="topic in exerciseDetails.info"
									class="panel panel-default">
									<div class="panel-heading">
										<h4 class="panel-title">
											<a data-toggle="collapse" data-target="#{{topic.id}}" href=""
												class="collapsed"> {{topic.title}} </a>
										</h4>
									</div>
									<div id="{{topic.id}}" class="panel-collapse collapse in">
										<div class="panel-body">
											<div class="row">
												<div class="col-md-12">
													<p>{{topic.description}}</p>
													<img class="pictureH320"
														ng-src="/user/image?type=exerciseInfo&id={{topic.id}}">
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="centered" ng-show="exerciseDetails.referenceFileAvailable">
									<img src="/assets/img/down.png" class="downloadReferenceIcon">
									<p class="lead downloadReference">
										Download Exercise's <a
											ng-click="downloadAPIReference(exerciseDetails.id)" href="">
											reference</a>
									</p>
								</div>
							</div>
							<div role="tabpanel" class="tab-pane" id="exercise-flags">
								<div ng-show="asNotStarted">
									<p class="lead alertPLead">To check the remediation status,
										start the Application Server in the RTF exercise. Reference
										the 'General Information' tab for instructions.</p>
								</div>
								<div class="panel-group" id="accordion">
									<div ng-repeat="flag in exerciseDetails.flags"
										class="panel panel-default">
										<div class="panel-heading">
											<h4 class="panel-title">
												<a data-toggle="collapse" data-target="#{{flag.id}}" href="">
													{{flag.title}} </a>
											</h4>
										</div>
										<div id="{{flag.id}}" class="panel-collapse collapse in">
											<div class="panel-body">
												<table>
													<thead class="theadSpace">
														<tr>
															<th>Type</th>
															<th>Instructions</th>
															<th>Required</th>
															<th>Score</th>
															<th class="center">Hint</th>
															<th class="center">Check result</th>
															<th></th>
														</tr>
													</thead>
													<tbody>
														<tr ng-repeat="f in flag.flagList" class="spaceUnder">
															<td>{{f.type}}</td>
															<td class="w54">{{f.instructions}}</td>
															<td>{{f.type=='EXPLOITATION' && "Optional" ||
																"Required"}}</td>
															<td>{{f.maxScore || "-"}}</td>
															<td class="center">
																<button ng-show="f.hintAvailable"
																	ng-disabled="!exerciseStarted"
																	ng-click="getHintModal(f.id)"
																	class="btn btn-sm btn-info outline">Show Hint</button>
															</td>
															<td ng-show="!f.selfCheckName"></td>
															<td
																ng-show="f.selfCheckName && !isAvailable(f.selfCheckStatus)"
																class="center">
																<button ng-disabled="!exerciseStarted"
																	ng-click="refreshResults(exerciseDetails.id)"
																	class=" btn btn-sm btn-info outline refreshResults">Refresh
																	Result</button>

															</td>
															<td
																ng-class="isAvailable(f.selfCheckStatus) && getRemedationTableClassFromSelfCheckName(f.selfCheckStatus)"
																ng-show="isAvailable(f.selfCheckStatus)">{{getSelfChekResult(f.selfCheckStatus)}}</td>
															<td>
																<button ng-show="isAvailable(f.selfCheckStatus)"
																	ng-disabled="!exerciseStarted"
																	ng-click="refreshResults(exerciseDetails.id)"
																	class="btn btn-sm btn-info outline refreshResults">Refresh</button>
															</td>
														</tr>
													</tbody>
												</table>
											</div>
										</div>
									</div>
								</div>

								<div ng-show="exerciseDetails.referenceFileAvailable" class="centered">
									<img src="/assets/img/down.png" class="downloadReferenceIcon">
									<p class="lead downloadReference">
										Download Exercise's <a
											ng-click="downloadAPIReference(exerciseDetails.id)" href="">
											reference</a>
									</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div id="hintReceivedModal" class="modal fade" tabindex="-1"
					role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
								<h4 class="modal-title">Hint</h4>
							</div>
							<div class="modal-body">
								<p class="lead">{{hintData.text}}</p>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default"
									data-dismiss="modal">Close</button>
							</div>
						</div>
					</div>
				</div>
				<div id="getHintModal" class="modal fade" tabindex="-1"
					role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
								<h4 class="modal-title">Hint</h4>
							</div>
							<div class="modal-body">
								<p class="lead">Each hint has an impact on the final score.</p>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default"
									data-dismiss="modal">Close</button>
								<button type="button" ng-click="getHint()"
									class="btn btn-primary">Get Hint</button>
							</div>
						</div>
					</div>
				</div>
				<div id="startExerciseModal" class="modal fade" tabindex="-1"
					role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
								<h4 class="modal-title">Start Exercise</h4>
							</div>
							<div class="modal-body modalStartExercise">
								<p class="lead" ng-show="exerciseIsInChallenge">
									<strong>This exercise is part of a challenge.</strong> Once
									started, it is not possible to suspend the exercise.
								</p>
								<p class="lead">The recommended duration of this exercise is
									{{exerciseDetails.duration}} minutes.</p>
								<p class="lead" ng-show="!exerciseIsInChallenge">Once
									started, it is not possible to suspend the exercise.</p>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default"
									data-dismiss="modal">Close</button>
								<button type="button"
									ng-click="startInstance(exerciseDetails.id)"
									class="btn btn-primary">Start Exercise</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- CHALLENGES ***************************************************************************************************************** -->
			<div class="standalone ng-cloak" id="challenges"
				ng-show="visibility.challenges" ng-controller="challenges">
				<div class="container" ng-show="showChallengesList">
					<div class="row ">
						<h2 class="eblue centered">Challenges</h2>
					</div>
					<div class="row centered" ng-show="masterChallengesList.length > 0">
						<div ng-show="masterChallengesList.length>0"
							class="centered toggleHideCancelled">
							<toggle onstyle="btn-primary" ng-model="showCompleted"
								on="Hide Completed" off="Show Completed"></toggle>
						</div>
						<div class="card-deck-wrapper">
							<div class="card-deck challengeDeck marginTop15"
								ng-repeat="c in filteredChallengesList">
								<div class="container marginTop15">
									<div class="row vertical-align">
										<div class="vertical-align col-md-2">

											<div class="row">
												<h3 class="">
													<small>#{{c.id}} </small>{{c.name}}
												</h3>
											</div>
										</div>
										<div class="block col-md-8">
											<div class="row">
												<div class="col-md-3 ">
													<p class="statsText">Total Exercises</p>
													<span class="badge challengeBadge statsBadgeColor5">{{c.exercises.length}}</span>
												</div>
												<div class="col-md-3 ">
													<p class="statsText">Total Run Exercises</p>
													<span class="badge challengeBadge statsBadgeColor5">{{c.runExercises.length}}</span>
												</div>
												<div class="col-md-3 ">
													<p class="statsText">Total Users</p>
													<span class="badge challengeBadge statsBadgeColor5">{{c.users.length}}</span>
												</div>
												<div class="col-md-3 ">
													<p class="statsText">Total Completion</p>
													<span class="badge challengeBadge statsBadgeColor5">{{c.completion}}%</span>
												</div>

											</div>

											<div class="row marginBottom10">
												<div class="col-md-3 ">
													<p class="statsText">Start Date</p>
													<span class="badge font14 statsBadgeColor1">{{getDateInCurrentTimezone(c.startDate,'MMM
														D YYYY HH:mm')}}</span>
												</div>
												<div class="col-md-3 ">
													<p class="statsText">End Date</p>
													<span class="badge font14 statsBadgeColor1">{{getDateInCurrentTimezone(c.endDate,'MMM
														D YYYY HH:mm')}}</span>
												</div>
												<div class="col-md-3 ">
													<p class="statsText">Last Activity</p>
													<span class="badge font14 statsBadgeColor1">{{getDateInCurrentTimezone(c.lastActivity,'MMM
														D YYYY HH:mm')}}</span>
												</div>
												<div class="col-md-3 ">
													<p class="statsText">Challenge Status</p>
													<span class="badge font14 statsBadgeColor1">{{getChallengeStatusString(c.status)}}</span>
												</div>

											</div>


										</div>
										<div class="vertical-align col-md-2">
											<button ng-click="getChallengeDetailsButton(c.id)"
												class="btn btn-primary outline btn-lg">
												View <br /> Table & Exercises
											</button>
										</div>
									</div>


								</div>
							</div>
						</div>
					</div>
					<div class="centered marginTop20"
						ng-show="masterChallengesList.length==null || noActiveChallenges ">
						<img class="emptyExercises" src="/assets/img/emptyExercises.png" />
						<p>There are no challenges available.</p>
					</div>
				</div>
				<div ng-show="showChallengeDetails">

					<div class="container centered">
						<div class="row">
							<a ng-click="backToList()"
								class="backToUsers outline btn btn-info btn-lg">Back</a>
							<h2 class="eblue">{{challengeDetails.name}}</h2>
						</div>
						<div class="row marginTop30">
							<div class="col-md-6">

								<div class="row  left">
									<h4 class="center">Challenge Details:</h4>
									<img class="challengeImg" src="/assets/img/challenge.svg">
									<p class="justify margin30">{{challengeDetails.details}}</p>
								</div>
							</div>
							<div class="col-md-6">
								<div class="row">
									<h4 class="">Challenge Info</h4>
									<div class="row">
										<div class="col-md-3 ">
											<p class="statsText">Start Date</p>
											<span class="badge font14 statsBadgeColor1">{{getDateInCurrentTimezone(challengeDetails.startDate,'MMM
												D YYYY HH:mm')}}</span>
										</div>
										<div class="col-md-3">
											<p class="statsText">End Date</p>
											<span class="badge font14 statsBadgeColor1">{{getDateInCurrentTimezone(challengeDetails.endDate,'MMM
												D YYYY HH:mm')}}</span>
										</div>
										<div class="col-md-3">
											<p class="statsText">Last Activity</p>
											<span class="badge font14 statsBadgeColor1">{{getDateInCurrentTimezone(challengeDetails.lastActivity,'MMM
												D YYYY HH:mm')}}</span>
										</div>
										<div class="col-md-3 ">
											<p class="statsText">Challenge Status</p>
											<span class="badge font14 statsBadgeColor1">{{getChallengeStatusString(challengeDetails.status)}}</span>
										</div>
									</div>
									<div class="row">

										<div class="col-md-3 ">
											<p class="statsText">Users</p>
											<span class="badge font14 statsBadgeColor1">{{challengeDetails.users.length}}</span>
										</div>

										<div class="col-md-3 ">
											<p class="statsText">Exercises</p>
											<span class="badge font14 statsBadgeColor1">{{challengeDetails.exercises.length}}
												/ user</span>
										</div>
										<div class="col-md-3 ">
											<p class="statsText">Flags</p>
											<span class="badge font14 statsBadgeColor1">{{challengeDetails.flags.length}}
												/ user</span>
										</div>
										<div class="col-md-3 ">
											<p class="statsText">Running Exercises</p>
											<span class="badge font14 statsBadgeColor3">{{challengeDetails.challengeRunningExercises}}</span>
										</div>


									</div>

									<div class="row">
										<div class="col-md-3 ">
											<p class="statsText">Total Completion</p>
											<span class="badge font14 statsBadgeColor1">{{challengeDetails.completion
												| number: 1}}%</span>
										</div>
										<div class="col-md-3">
											<p class="statsText">Total Remediation</p>
											<span class="badge font14 statsBadgeColor1">{{challengeDetails.remediation
												| number: 1}}%</span>
										</div>
										<div class="col-md-3 ">
											<p class="statsText">Total Run Exercises</p>
											<span class="badge font14 statsBadgeColor1">{{challengeDetails.challengeRunExercises}}</span>
										</div>
										<div class="col-md-3 ">
											<p class="statsText">Total Run Flags</p>
											<span class="badge font14 statsBadgeColor1">{{challengeDetails.runFlags}}</span>
										</div>

									</div>
									<div class="row">
										<div class="col-md-3 ">
											<p class="statsText">Your Completion</p>
											<span class="badge font14 statsBadgeColor2">{{
												challengeDetails.userCompletion | number: 1}}%</span>
										</div>
										<div class="col-md-3">
											<p class="statsText">Your Remediation</p>
											<span class="badge font14 statsBadgeColor2">{{challengeDetails.userRemediation
												| number: 1}}%</span>
										</div>
										<div class="col-md-3">
											<p class="statsText">Your Run Exercises</p>
											<span class="badge font14 statsBadgeColor2">{{challengeDetails.userRunExercises}}</span>
										</div>
										<div class="col-md-3">
											<p class="statsText">Your Run Flags</p>
											<span class="badge font14 statsBadgeColor2">{{challengeDetails.userRunFlags}}</span>
										</div>

									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="container marginTop30">
						<div class="row">

							<div class="col-md-8 col-md-offset-2">
								<div class="row center">
									<h4 class="center">Challenge Table</h4>
									<table class="table table-hover left" at-table
										at-list="challengeDetails.users"
										at-config="challengeTableConfig">
										<thead>

										</thead>
										<tbody>
											<tr>
												<td at-attribute="user" at-sortable at-title="User">{{item.user}}</td>
												<td at-initial-sorting="desc" at-attribute="challengeScore"
													at-sortable at-title="Score">{{item.challengeScore}}</td>
												<td at-attribute="challengeRunExercises" at-sortable
													at-title="Run Exercises">{{(item.challengeRunExercises)}}</td>
												<td at-attribute="challengeRunFlags" at-sortable
													at-title="Run Flags">{{(item.challengeRunFlags)}}</td>
												<td at-attribute="team.name" at-sortable at-title="Team">{{item.team.name}}</td>
												<td at-attribute="country.name" at-sortable
													at-title="Country">{{item.country.name}}</td>


											</tr>
										</tbody>
									</table>
									<p>
										<small>Last refreshed at
											{{getDateInCurrentTimezone(challengeDetails.lastRefreshed,'HH:mm
											(Z) on MMM D YYYY')}}</small>
									</p>
								</div>
							</div>
						</div>
					</div>
					<div class="container marginTop30">

						<div class="row centered">
							<h4>Challenge Exercises</h4>
							<div ng-repeat="e in exercises" class="card-deck-wrapper">
								<div class="card-deck">
									<div ng-repeat="ex in e | orderBy:'active':true" class="card"
										ng-class="getExerciseClass(ex.technology)">
										<div class="paddingTop5 paddingBottom5 card-header">{{ex.technology}}</div>
										<div class="card-block paddingTop5">
											<div ng-show="didTakeExercise(ex.id)" class="taken">Completed</div>
											<div ng-show="!didTakeExercise(ex.id)" class="notTaken">Not
												Completed</div>
											<h4 class="card-title">{{ex.title}}</h4>
											<h6 class="ellipsis card-subtitle text-muted">{{ex.subtitle}}</h6>
										</div>
										<div class="row center marginTop0 marginBottom0">
											<h4 class="marginTop0 marginBottom0">Score</h4>
											<svg width="120" height="120">
  <circle cx="60" cy="60" r="50" fill="{{getColorForScore(ex.score)}}" />
  <text x="50%" y="45%" text-anchor="middle" fill="white"
													font-family="monospace" font-size="55px" dy=".3em">{{ex.score}}</text>
  <text x="50%" y="70%" text-anchor="middle" fill="white"
													font-family="monospace" font-size="12px" dy=".3em">points</text>

</svg>

										</div>
										<div
											class="card-block paddingBottom10 paddingTop0 marginTop0 marginBottom0">
											<p class="card-text marginTop0">
												<small class="text-muted">Duration: {{ex.duration}}
													minutes</small><small class="text-muted"> | Difficulty:
													{{ex.difficulty}} </small>
											</p>
											<button
												ng-show="challengeDetails.status == 'FINISHED' || didTakeExercise(ex.id)"
												class="btn btn-primary disabled">Completed</button>
											<a
												ng-show="(ex.status==0 || ex.status==4) && challengeDetails.status == 'IN_PROGRESS' && !didTakeExercise(ex.id)"
												ng-click="getExerciseDetails(ex.id)" href=""
												class="btn btn-primary">Get Started</a> <a
												ng-show="ex.status>0 && ex.status != 4" href="" class="btn btn-info">{{getExerciseStatusString(ex.status)}}</a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="container marginTop30">
						<div class="row">
							<h4 class="center">Challenge Results</h4>


							<table class="table" id="challengeResults">
								<thead>
									<tr>
										<th></th>

										<th class="width185 bold italics centered"
											ng-repeat="t in challengeDetails.theads">{{t.name}}</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="u in challengeDetails.users">
										<td class="italics">{{u.user}}</td>

										<td class="centered font12"
											ng-class="getClassForChallengeResult(u.user,f.name)"
											ng-repeat="f in challengeDetails.theads"><span>{{getChallengeResultFor(u.user,f.name)}}</span><span ng-show="isPlacedInChallenge(u.user,f.name)" ng-class="getClassPlacementInChallenge(u.user,f.name)" class="badge">{{getPlacementInChallenge(u.user,f.name)}}</span></td>
									</tr>
								</tbody>
							</table>
							<p class="center">
								<small>Last refreshed at
									{{getDateInCurrentTimezone(challengeDetails.lastRefreshed,'HH:mm
									(Z) on MMM D YYYY')}}</small>
							</p>
						</div>
					</div>
				</div>
			</div>
			<!-- *****************************************************************************************************************
	 RUNNING EXERCISES
	 ***************************************************************************************************************** -->
			<div class="standalone ng-cloak" id="running"
				ng-show="visibility.runningExercises" ng-controller="running">
				<div class="container">
					<div class="row centered">
						<h2 class="eblue">Running Exercises</h2>
						<span class="badge scoreBadge"
							ng-show="runningInstances.length > 0">{{runningInstances.length}}</span>
						<div class="card-deck-wrapper marginTop20">
							<div class="card-deck">
								<div ng-repeat="ex in runningInstances" class="card"
									ng-class="getExerciseClass(ex.technology)">
									<div class="card-header">{{ex.technology}}</div>
									<div class="card-block">
										<h4 class="card-title">{{ex.title}}</h4>
										<h5 class="card-subtitle">
											{{ex.exercise.subtitle}}
											<h5>
												<p class="card-text">
													Start time: <small class="text-muted">{{getDateInCurrentTimezone(ex.startTime,'MMM
														D YYYY HH:mm')}}</small> | End time: <small class="text-muted">{{getDateInCurrentTimezone(ex.endTime,'MMM
														D YYYY HH:mm')}}</small>
												</p>
												<a ng-click="resumeExercise(ex.id,ex.exercise.id)" href=""
													class="btn btn-sm btn-success">Resume Exercise</a> <a
													ng-click="stopExercise(ex.id)" href=""
													class="btn btn-sm btn-primary">Mark Completed</a>
									</div>
								</div>
							</div>
						</div>
						<div ng-show="runningInstances.length == 0">
							<img class="emptyExercises" src="/assets/img/emptyExercises.png" />
							<p>There are no running exercises.</p>
							<p>
								Browse available <a href="#exercises">training exercises</a> or <a href="#challenged">challenges</a>.
							</p>
						</div>	
					</div>
				</div>
			</div>
			<!-- *****************************************************************************************************************
	LEADERBOARD
	 ***************************************************************************************************************** -->
			<div class="standalone ng-cloak" id="leaderboard"
				ng-show="visibility.leaderboard" ng-controller="leaderboard">
				<div class="container">
					<div class="row centered">
						<h2 class="eblue">Team Leaderboard</h2>
						<div ng-show="user.team.name">
							<span class="teamBadge marginTop20 badge inlineBlock">{{user.team.name}}</span>
							<table at-table at-paginated at-list="leaderboardData"
								at-config="leaderboardtableconfig"
								class="table marginTop20 table-striped leaderboardTable">
								<thead>
								</thead>
								<tbody>
									<tr>
										<td at-attribute="user" at-sortable at-title="User">{{item.user}}</td>
										<td at-attribute="country.name" at-sortable at-title="Country">{{item.country.name}}</td>
										<td at-initial-sorting="desc" at-attribute="score" at-sortable
											at-title="Score">{{item.score}}</td>
										<td at-attribute="exercisesRun" at-sortable
											at-title="Run Exercises">{{item.exercisesRun}}</td>
									</tr>
								</tbody>
							</table>
							<at-pagination at-list="leaderboardData"
								at-config="leaderboardtableconfig"></at-pagination>

							<div class="row" ng-show="remediationRatePerIssue.length>0">
								<h2 class="eblue centered">Team Stats</h2>
								<h4 class="centered marginTop30 marginBottom20">{{selectedTeam}}
									Remediation Rate by Issue</h4>
								<canvas id="remediatedPerIssue" class="chart chart-radar"
									chart-data="remediatedPerIssue.data"
									chart-series="remediatedPerIssue.series"
									chart-options="remediatedPerIssue.options"
									chart-labels="remediatedPerIssue.labels">
								</canvas>
							</div>
							<div class="row" ng-show="remediationRatePerCategory.length>0">
								<h4 class="centered marginTop30 marginBottom20">{{selectedTeam}}
									Remediation Rate, Average/Total Duration by Issue Category</h4>
								<div class="col-md-10 col-md-offset-1">
									<canvas id="remediatedPerCategory" class="chart chart-bar"
										chart-data="remediatedPerCategory.data"
										chart-series="remediatedPerCategory.series"
										chart-options="remediatedPerCategory.options"
										chart-labels="remediatedPerCategory.labels"
										chart-dataset-override="remediatedPerCategory.datasetOverride">
										</canvas>
								</div>
							</div>
							<div class="row inlineBlock"
								ng-show="remediationRatePerIssue.length>0">
								<h4 class="centered marginTop30 marginBottom20">{{selectedTeam}}
									Individual Issue Remediation Breakdown</h4>
								<div class="col-md-3 marginBottom10 "
									ng-repeat="c in remediationRatePerIssue">
									<canvas width="250%" height="310%" class="chart chart-doughnut"
										chart-data="c.data" chart-options="c.options"
										chart-labels="c.labels">
									</canvas>
								</div>
							</div>
						</div>
						<div ng-show="!user.team.name">
							<img class="emptyTeam" src="/assets/img/emptyTeam.png" />
							<p>You are not part of a team.</p>
						</div>
					</div>
				</div>
			</div>
			<!-- *****************************************************************************************************************
    HISTORY
	 ***************************************************************************************************************** -->
			<div class="standalone ng-cloak" id="history"
				ng-show="visibility.history" ng-controller="history">
				<div class="container">
					<div class="row ">
						<h2 class="eblue centered">Completed Exercises</h2>
						<div ng-show="masterCompletedReviews.length>0">
							<div class="tableFilter">
								<p class="lead inlineBlock">Filter:</p>
								<input placeholder="Type to filter..."
									ng-change="updateFilteredList()" ng-model="query"
									class="queryInput">
							</div>

							<table at-table at-paginated at-list="filteredCompletedList"
								at-config="tableconfig" class="table table-hover">
								<thead>
									<tr>
									</tr>
								</thead>
								<tbody>
									<tr ng-class="{active: $index===selectedResultRow}">
										<td at-initial-sorting="desc" width="55" at-title=" # "
											at-sortable at-implicit at-attribute="id"></td>
										<td at-title="Exercise" at-sortable at-implicit
											at-attribute="title"></td>
										<td at-title="Topics" at-sortable at-implicit
											at-attribute="exercise.subtitle"></td>
										<td at-title="Tech." class="centered" at-sortable at-implicit
											at-attribute="technology"></td>
										<td at-attribute="startTime" at-title="Date / Duration">{{getDateFormat(item.startTime)}}
											({{getDurationInterval(item.startTime,item.endTime,item.duration)}})</td>
										<td at-attribute="score.result" at-title="Score" class="right"
											ng-class="getResultsScoreClass(item.score.result,item.score.total, item.status)">
											{{item.score.result > -1 && item.score.result || ' ?
											'}}/{{item.score.total}}</td>
										<td at-title="Scoring" at-sortable at-attribute="scoring">{{getScoringModeString(item.scoring)}}</td>
										<td class="center" at-title="Challenge" at-sortable
											at-attribute="challengeId"><span
											ng-show="item.type != 'CHALLENGE'">No</span><a
											ng-show="item.type == 'CHALLENGE'"
											href="#/challenges/details/{{item.challengeId}}">Yes</a></td>

										<td class="center" at-title="Status" width="85" at-sortable
											at-attribute="status">{{getExerciseStatusString(item.status)}}</td>
										<td>
											<button ng-click="showResultsFor(item.id,$index)"
												class="btn btn-primary outline">View Results</button>
										</td>
									</tr>
								</tbody>
							</table>
							<at-pagination at-list="filteredCompletedList"
								at-config="tableconfig"></at-pagination>
							
						</div>
						<div class="centered" ng-show="masterCompletedReviews.length<=0">
							<img class="emptyHistory" src="/assets/img/emptyHistory.png" />
							<p>There are no results.</p>
							<p>
								Complete an <a href="#exercises">exercise</a> to check your
								results.
							</p>
						</div>
					</div>
					<div ng-show="showResults" class="row ">
						<div id="showCompletedResults" class="row ">
							<div class="row">
								<div class="col-md-12">
									<h3 class="centered">
										Exercise Flags
										</h2>
										<table class="table table-striped">
											<thead>
												<tr>
													<th>Flag Name</th>
													<th>Flag Type</th>
													<th>Flag Description</th>
												</tr>
											</thead>
											<tbody>
												<tr ng-repeat-start="f in userHistoryDetails.exercise.flags">
													<td rowspan="2">{{f.title}}</td>
													<td>{{f.flagList[0].type}}</td>
													<td>{{f.flagList[0].instructions}}</td>
												</tr>
												<tr ng-repeat-end>
													<td>{{f.flagList[1].type}}</td>
													<td>{{f.flagList[1].instructions}}</td>
												</tr>
											</tbody>
										</table>
								</div>
							</div>
							<div ng-show="userHistoryDetails.usedHints.length>0" class="row">
								<div class="col-md-12">
									<h3 class="centered">
										Used Hints
										</h2>
										<table class="table">
											<thead>
												<tr>
													<th>#</th>
													<th>Category
													<th>Hint</th>
													<th>Score Impact</th>
												</tr>
											</thead>
											<tbody>
												<tr ng-repeat="h in userHistoryDetails.usedHints">
													<td>#{{$index +1}}</td>
													<td>{{h.type | capitalize}}</td>
													<td>{{h.text}}</td>
													<td>{{h.scoreReducePercentage || "0"}}%</td>
												</tr>
											</tbody>
										</table>
								</div>
							</div>
							<div id="infoArea" class="row">
								<h3 class="centered">
									Results
									</h2>

									<div class="col-md-10">
										<table id="resultTable" class="table">
											<thead>
												<tr>
													<th>Flag</th>
													<th class="width12">Result</th>
													<th>Score</th>
													<th>Comment</th>
													<th ng-show="r.verified || r.automated"></th>
												</tr>
											</thead>
											<tbody>
												<tr ng-repeat="r in userHistoryDetails.results" big>
													<td class="verticalAlign">{{getQuestionName(r.name)}}</td>
													<td class="width12 center verticalAlign"><div
															class="padding5" ng-class="getStatusClass(r.status)">{{getStatusString(r.status)}}</div></td>
													<td class="right verticalAlign">{{getScoreString(r.score)}}/{{getQuestionMaxScore(r.name)}}</td>
													<td class="verticalAlign"
														ng-show="userHistoryDetails.status == 'STOPPED' || userHistoryDetails.status == 'REVIEWED'">{{r.verified
														&& r.comment || 'Pending review...'}}
														<div ng-repeat="i in r.userReportedIssues">
															<p class="marginBottom0 marginTop0">----------------</p>
															<p class="marginBottom0 marginTop0">
																<strong>From:</strong>{{i.fromRTF && "RTF" || "User"}}
															</p>
															<p class="marginBottom0 marginTop0">
																<strong>Date:</strong> {{i.date}}
															</p>
															<p class="marginBottom0 marginTop0">
																<strong>Comment</strong>: {{i.text}}
															</p>
														</div>
													</td>
													<td class="verticalAlign"
														ng-show="userHistoryDetails.status == 'AUTOREVIEWED' || userHistoryDetails.status == 'REVIEWED_MODIFIED'">Automated review
														<div ng-repeat="i in r.userReportedIssues">
															<p class="marginBottom0 marginTop0">----------------</p>
															<p class="marginBottom0 marginTop0">
																<strong>From:</strong>{{i.fromRTF && "RTF" || "User"}}
															</p>
															<p class="marginBottom0 marginTop0">
																<strong>Date:</strong> {{i.date}}
															</p>
															<p class="marginBottom0 marginTop0">
																<strong>Comment</strong>: {{i.text}}
															</p>
														</div>
													</td>
													<td class="verticalAlign center"
														ng-show="userHistoryDetails.status != 'STOPPED'"><button
															ng-click="openComplaintModal(userHistoryDetails.id,r.name)"
															class="btn btn-xs outline btn-primary">Not
															correct?</button></td>


												</tr>

											</tbody>
										</table>
									</div>

									<div class="col-md-2 centered marginTop3">
										<button ng-hide="zipError" id="viewDiffButton"
											ng-click="toggleCodeDiff()"
											class="btn btn-block btn-success outline historyButtons">
											Show/Hide<br /> Source Code Diff
										</button>

										<button ng-disabled="userHistoryDetails.feedback"
											ng-click="leaveFeedbackModal()"
											class="btn btn-block btn-info outline historyButtons">
											Leave<br /> Feedback
										</button>
										<button ng-disabled="userHistoryDetails.status == 'STOPPED'"
											ng-click="downloadSolutions(userHistoryDetails.id)"
											class="btn btn-block outline btn-secondary historyButtons">
											Download <br /> Exercise Solution
										</button>
									</div>
							</div>

							<div id="diffDiv" class="row" ng-show="showCodeDiff">
								<div class="col-md-12">
									<h3 class="">Source Code Diff:</h3>
									<div ng-show="emptyDiff">Source code diff is not
										available.</div>
									<div ng-non-bindable id="targetDiv"></div>
								</div>
							</div>
						</div>
					</div>
					<div id="scoringComplaintModal" class="modal fade" tabindex="-1"
						role="dialog">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
									<h4 class="modal-title">Scoring Comment</h4>
								</div>
								<div class="modal-body">
									<p class="lead">
										Flag <small>"{{getQuestionName(complaintExerciseFlag)}}"</small>
									</p>
									<p>If you think this flag was not correctly scored, please
										provide your comment. Our team will review the exercise and
										provide feedback.</p>
									<textarea ng-model="complaintModalTextInput"
										class="feedbackTextArea"></textarea>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default"
										data-dismiss="modal">Close</button>
									<button type="button" ng-click="sendScoringComplaint()"
										class="btn btn-primary">Send</button>
								</div>
							</div>
						</div>
					</div>
					<div id="leaveFeedbackModal" class="modal fade" tabindex="-1"
						role="dialog">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
									<h4 class="modal-title">Feedback</h4>
								</div>
								<div class="modal-body">
									<p class="lead">Leave feedback about the exercise.</p>
									<textarea ng-model="feedbackMessage" class="feedbackTextArea"></textarea>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default"
										data-dismiss="modal">Close</button>
									<button type="button" ng-click="doLeaveFeedback()"
										class="btn btn-primary">Send</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- *****************************************************************************************************************
	 ACHIEVEMENTS
	 ***************************************************************************************************************** -->
			<div class="standalone ng-cloak" id="achievements"
				ng-show="visibility.achievements" ng-controller="achievements">
				<div class="container">
					<div class="row centered">

						<div class="inlineBlock marginRight40">
							<h2 class="eblue">Total Score</h2>
							<span class="badge scoreBadge">{{achievementsData.score}}</span>
						</div>
						<div class="inlineBlock marginLeft40">
							<h2 class="eblue">Run Exercises</h2>
							<span class="badge scoreBadge">{{achievementsData.exercisesRun}}</span>
						</div>
						<h2 class="eblue marginTop25">Trophies</h2>
						<div ng-repeat="ta in trophies" class="card-deck-wrapper">
							<div class="card-deck">
								<div ng-repeat="t in ta"
									ng-class="getExerciseClass(t.technology)" class="card">
									<div class="card-header">{{t.trophy.technology}}</div>
									<img class="trophySVG" src="/assets/img/trophy.svg">
									<div class="card-block">
										<h4 class="card-title">{{t.trophy.name}}</h4>
										<p class="card-text">{{t.trophy.description}}</p>
										<p class="card-text">
											<small class="text-muted">{{getDateInCurrentTimezone(t.date,
												'MMM D YYYY HH:mm')}}</small>
										</p>
									</div>
								</div>
							</div>
						</div>
						<div ng-show="emptyTrophy">
							<img class="emptyTrophy" src="/assets/img/emptyTrophy.png" />
							<p>There are no trophies.</p>
							<p>
								Start an <a href="#exercises">exercise</a> and gain your first
								trophy.
							</p>
						</div>

						<div class="row" ng-show="scorePerExercises.data[0].length>0">
							<h2 class="eblue marginTop25">Stats</h2>
							<h4 class="centered marginTop30 marginBottom20">Remediation
								Rate and Duration by Exercise</h4>
							<div class="col-md-10 col-md-offset-1">
								<canvas id="remediatedScoreHistory" class="chart chart-line"
									chart-data="scorePerExercises.data"
									chart-labels="scorePerExercises.labels"
									chart-series="scorePerExercises.series"
									chart-dataset-override="scorePerExercises.datasetOverride"
									chart-options="scorePerExercises.options">
							</canvas>
							</div>
						</div>

						<div class="row" ng-show="remediationRatePerCategory.length>0">
							<h4 class="centered marginTop30 marginBottom20">Remediation Breakdown by Issue
								Category </h4>
							<div class="col-md-3 marginBottom10"
								ng-repeat="c in remediationRatePerCategory">
								<canvas width="250%" height="310%" class="chart chart-doughnut"
									chart-data="c.data" chart-options="c.options"
									chart-labels="c.labels">
									</canvas>
							</div>
						</div>
						<div class="row" ng-show="remediatedPerCategory.data[0].length>0">
							<h4 class="centered marginTop30 marginBottom20">Duration by
								Issue Category</h4>
							<div class="col-md-10 col-md-offset-1">
								<canvas id="remediatedPerCategory" class="chart chart-bar"
									chart-data="remediatedPerCategory.data"
									chart-series="remediatedPerCategory.series"
									chart-options="remediatedPerCategory.options"
									chart-labels="remediatedPerCategory.labels">
								</canvas>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- *****************************************************************************************************************
	 SETTINGS
	 ***************************************************************************************************************** -->
			<div class="standalone ng-cloak" id="settings"
				ng-show="visibility.settings" ng-controller="settings">
				<div class="container">
					<div class="row centered">
						<h2 class="eblue">Settings</h2>
						<form class="left" name="userProfileForm" novalidate>
							<div class="row">
								<div class="col-md-3">
									<h4>User Profile</h4>
								</div>
							</div>
							<div class="row">
								<div class="col-md-3">
									<h5>First Name</h5>
									<input class="fInput" required type="text"
										ng-model="user.firstName">
								</div>
								<div class="col-md-3">
									<h5>Last Name</h5>
									<input class="fInput" required type="text"
										ng-model="user.lastName">
								</div>
								<div class="col-md-3">
									<h5>Email</h5>
									<input class="fInput" required type="email"
										ng-model="user.email">
								</div>
							</div>
							<div class="row">
								<div class="col-md-3">
									<h5>Country</h5>
									<ol class="nya-bs-select" required ng-model="user.country"
										data-size="20" data-live-search="true">
										<li nya-bs-option="ct in countries | orderBy:'name'"><a>
												{{ct.name}} <span class="glyphicon glyphicon-ok check-mark"></span>
										</a></li>
									</ol>
								</div>

							</div>
							<div class="row marginTop20">
								<div class="col-md-3">
									<button type="button"
										ng-disabled="userProfileForm.$error.required && !userProfileForm.$valid"
										ng-click="updateUserProfile()" class="btn btn-success">Save</button>
								</div>
							</div>
						</form>
						<form autocomplete="off" class="left" name="userPasswordForm"
							novalidate>
							<div class="row marginTop20">
								<div class="col-md-3">
									<h4>Change Password</h4>
								</div>
							</div>
							<div class="row ">
								<div class="col-md-3">
									<h5>Old Password</h5>
									<input autocomplete="off" class="fInput" name="oldPassword"
										required ng-model="settings.oldPassword" type="password">
								</div>
								<div class="col-md-3">
									<h5>New Password</h5>
									<input autocomplete="off" complex-password name="newPassword"
										class="fInput" required type="password"
										ng-model="settings.newPassword">
									<div
										ng-show="!userPasswordForm.$pristine && !userPasswordForm.newPassword.$valid">Use
										at least 8 characters including three of four groups in:
										numbers, symbols, capital letters, and lower-case letters.</div>
								</div>
								<div class="col-md-3">
									<h5>Repeat New Password</h5>
									<input autocomplete="off" class="fInput" type="password"
										name="newPasswordRepeat" ng-model="settings.newPasswordRepeat"
										required compare-to="settings.newPassword" />
									<div
										ng-show="!userPasswordForm.$pristine && !userPasswordForm.newPasswordRepeat.$valid">These
										password don't match. Try again?</div>
								</div>
							</div>
							<div class="row marginTop20">
								<div class="col-md-3">
									<button type="button"
										ng-disabled="userPasswordForm.$error.required || !userPasswordForm.newPasswordRepeat.$valid || !userPasswordForm.newPassword.$valid"
										ng-click="updateUserPassword()" class="btn btn-primary">Change</button>
								</div>
							</div>
						</form>
					</div>
					<form class="left" name="deleteAccountForm" novalidate>

						<div class="row marginTop20">
							<div>
								<h4>Delete Account</h4>
							</div>
						</div>
						<div class="row marginTop20">

							<button type="button" ng-click="openRemoveModal()"
								class="btn btn-danger">Delete</button>
						</div>
					</form>
				</div>

				<div id="userRemoveModal" class="modal fade" tabindex="-1"
					role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
								<h4 class="modal-title">Delete Account</h4>
							</div>
							<div class="modal-body">
								<p class="lead">You are about to delete your account. This
									action is not reversible.</p>
							</div>
							<div class="modal-footer">
								<button ng-click="removeUser()" type="button"
									class="btn btn-danger" data-dismiss="modal">Delete
									Account</button>
								<button type="button" class="btn btn-default"
									data-dismiss="modal">Close</button>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- *****************************************************************************************************************
	 FOOTER
	 ***************************************************************************************************************** -->
			<div id="footerwrap">
				<div class="container">
					<p class="center">RTF - 2018</p>
				</div>
			</div>
		</div>
		<div class="waitLoader"></div>
		<script src="/assets/js/libu.min.js"></script>
		<script src="/user/js/user.js"></script>
		<!--Matomo-->
		<script type="text/javascript">
			var _paq = _paq || [];
			_paq.push([ "setDocumentTitle",
					document.domain + "/" + document.title ]);
			_paq.push([ "setCookieDomain", "*.remediatetheflag.com" ]);
			_paq.push([ "setDomains",
					[ "*.remediatetheflag.com", "*.remediatetheflag.net" ] ]);
			_paq.push([ "enableCrossDomainLinking" ]);
			_paq.push([ 'trackPageView' ]);
			_paq.push([ 'enableLinkTracking' ]);
			(function() {
				var u = "https://analytics.remediatetheflag.com/piwik/";
				_paq.push([ 'setTrackerUrl', u + 'piwik.php' ]);
				_paq.push([ 'setSiteId', '1' ]);
				var d = document, g = d.createElement('script'), s = d
						.getElementsByTagName('script')[0];
				g.type = 'text/javascript';
				g.async = true;
				g.defer = true;
				g.src = u + 'piwik.js';
				s.parentNode.insertBefore(g, s);
			})();
			var currentUrl = location.href;
			window.addEventListener('hashchange', function() {
				_paq.push([ 'setReferrerUrl', currentUrl ]);
				currentUrl = '' + window.location.hash.substr(1);
				_paq.push([ 'setCustomUrl', currentUrl ]);
				_paq.push([ 'setDocumentTitle',
						'RTF - ' + window.location.hash.substr(1) ]);
				_paq.push([ 'deleteCustomVariables', 'page' ]);
				_paq.push([ 'setGenerationTimeMs', 0 ]);
				_paq.push([ 'trackPageView' ]);
				var content = document.getElementsByTagName('body')[0];
				_paq.push([ 'MediaAnalytics::scanForMedia', content ]);
				_paq.push([ 'FormAnalytics::scanForForms', content ]);
				_paq.push([ 'trackContentImpressionsWithinNode', content ]);
				_paq.push([ 'enableLinkTracking' ]);
			});
		</script>
		<noscript>
			<p>
				<img
					src="https://analytics.remediatetheflag.com/piwik/piwik.php?idsite=1&amp;rec=1"
					style="border: 0;" alt="" />
			</p>
		</noscript>
		<!--EndMatomo-->
</body>
</html>